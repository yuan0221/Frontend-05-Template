<script>
  // 二叉堆 

  class BinaryHeap {
    constructor(data, compare) {
      this.data = data.slice();
      this.compare = compare || ((a, b) => a - b);
    }
    take() {
      if (!this.data.length)
        return;
      let min = this.data[0];
      let x = this.data.pop();

      let i = 0;
      while (this.data.length > 2 * i + 1) {
        let a = i * 2 + 1,
          b = i * 2 + 2;
        //比较儿子的值，获取最小的
        if (b < this.data.length && this.data[b] < this.data[a]) {
          a = b
        }
        //如果已经没有大小颠倒则退出
        if (this.data[a] >= x) break;
        //把儿子的数值提上去
        this.data[i] = this.data[a]
        i = a
      }
      this.data[i] = x
      return min;
    }
    give(v) {
      let i = this.data.length;

      while(i) {
        //父节点的编号
        let p = parseInt((i - 1) / 2);

        if (this.data[p] <= v)
          break;

        //父节点的值下沉
        this.data[i] = this.data[p]
        i = p
      }
      this.data[i]=v
    }
  }
</script>